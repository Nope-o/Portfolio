<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Madhav Kataria - Personal Website</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Link to the external CSS file -->
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Inter:wght@400;600;800&family=Pacifico&display=swap" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <link rel="icon" href="logoo.webp" type="image/webp">
</head>
<body class="min-h-screen flex flex-col">
  <div id="root" class="flex-grow"></div>
  <script type="text/babel">
    const NAV_TABS = [
      { id: 'about', label: 'About' },
      { id: 'journey', label: 'Journey' },
      { id: 'resume', label: 'Resume' },
      { id: 'contact', label: 'Contact' },
    ];

    const Navbar = ({ activeTab, setActiveTab }) => {
      const [isCompact, setIsCompact] = React.useState(false);
      const [lastScrollY, setLastScrollY] = React.useState(0);

      const handleScroll = React.useCallback(() => {
        if (window.scrollY > lastScrollY && window.scrollY > 50) {
          setIsCompact(true);
        } else {
          setIsCompact(false);
        }
        setLastScrollY(window.scrollY);
      }, [lastScrollY]);

      React.useEffect(() => {
        window.addEventListener('scroll', handleScroll);
        return () => window.removeEventListener('scroll', handleScroll);
      }, [handleScroll]);

      const handleTabClick = (tabId, type) => {
        setActiveTab(tabId, type);
      };

      return (
        <header className={`w-full bg-white/75 backdrop-blur shadow-md py-3 fixed top-0 left-0 right-0 z-50 ${isCompact ? 'header-compact' : 'header-expanded'}`}>
          <div className="container mx-auto px-4 flex items-center justify-between">
            <div className="logo-frame">
              <span className="logo-text">Madhav Kataria</span>
            </div>
            <nav className="flex-grow">
              <ul className="flex justify-end space-x-4">
                {NAV_TABS.map((tab) => (
                  <li key={tab.id}>
                    <a
                      href={`#${tab.id}`}
                      onClick={() => handleTabClick(tab.id, 'click')}
                      className={`nav-link text-gray-700 font-semibold text-lg hover:text-gray-900 ${
                        activeTab === tab.id ? 'active' : ''
                      }`}
                      aria-current={activeTab === tab.id ? 'page' : undefined}
                    >
                      {tab.label}
                      <span className="nav-underline"></span>
                    </a>
                  </li>
                ))}
              </ul>
            </nav>
          </div>
        </header>
      );
    };

    const About = () => (
      <section id="about" className="py-12 animate-section-in">
        <h1 className="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-center about-main-title mb-10 leading-tight">
          Hello, I'm <span className="text-blue-500">Madhav Kataria</span>
        </h1>
        <div className="flex flex-col sm:flex-row items-center sm:items-start gap-8 about-flex-mobile">
          <div className="about-photo-bg about-photo-mobile">
            <img
              src="https://placehold.co/150x150/1e293b/f1f5f9?text=MK"
              alt="Madhav Kataria"
              className="w-40 h-40 rounded-full object-cover border-4 border-white shadow-lg"
            />
          </div>
          <div className="flex-1 text-lg text-gray-700 leading-relaxed about-text-mobile">
            <p className="mb-4 about-value">
              I'm a passionate <strong className="about-strong">Full Stack Developer</strong> with a knack for building dynamic and user-friendly web applications. My journey in tech is driven by curiosity and a desire to create impactful solutions.
            </p>
            <p className="mb-4 about-value">
              I specialize in <strong className="about-strong">React</strong> for crafting engaging front-end experiences and wield the power of <strong className="about-strong">Node.js</strong> and various databases on the backend. I'm always eager to learn new technologies and improve my craft.
            </p>
            <p className="about-value">
              Beyond coding, I enjoy exploring new ideas, contributing to open source, and staying updated with the latest industry trends. Let's build something amazing together!
            </p>
          </div>
        </div>
      </section>
    );

    const Journey = ({ setAppWinAnimation }) => {
      const [gridSize, setGridSize] = React.useState(7);
      const [grid, setGrid] = React.useState([]);
      const [playerPosition, setPlayerPosition] = React.useState({ row: 0, col: 0 });
      const [endPosition, setEndPosition] = React.useState({ row: 0, col: 0 });
      const [obstacles, setObstacles] = React.useState([]);
      const [gameMessage, setGameMessage] = React.useState('');
      const [won, setWon] = React.useState(false);
      const gridRef = React.useRef(null); // Ref for the game grid to focus it

      const generateGrid = React.useCallback(() => {
        let newGrid = Array(gridSize).fill(0).map(() => Array(gridSize).fill(0));
        let start = { row: 0, col: 0 };
        let end = { row: gridSize - 1, col: gridSize - 1 };
        let newObstacles = [];

        // Place start and end
        newGrid[start.row][start.col] = 'S';
        newGrid[end.row][end.col] = 'E';

        // Generate random obstacles
        const numObstacles = Math.floor(gridSize * gridSize * 0.2); // 20% obstacles
        for (let i = 0; i < numObstacles; i++) {
          let r, c;
          do {
            r = Math.floor(Math.random() * gridSize);
            c = Math.floor(Math.random() * gridSize);
          } while (
            (r === start.row && c === start.col) ||
            (r === end.row && c === end.col) ||
            newGrid[r][c] === 'O'
          );
          newGrid[r][c] = 'O';
          newObstacles.push({ row: r, col: c });
        }

        // Place player at start
        newGrid[start.row][start.col] = 'P';

        setGrid(newGrid);
        setPlayerPosition(start);
        setEndPosition(end);
        setObstacles(newObstacles);
        setGameMessage('');
        setWon(false);

        // Focus the grid for keyboard control
        setTimeout(() => {
            if (gridRef.current) {
                gridRef.current.focus();
            }
        }, 0);
      }, [gridSize]);

      React.useEffect(() => {
        generateGrid();
      }, [generateGrid]);

      const movePlayer = (direction) => {
        if (gameMessage) return; // Prevent movement if game is over

        let { row, col } = playerPosition;
        let newRow = row;
        let newCol = col;

        switch (direction) {
          case 'up': newRow--; break;
          case 'down': newRow++; break;
          case 'left': newCol--; break;
          case 'right': newCol++; break;
          default: return;
        }

        // Check boundary conditions
        if (newRow < 0 || newRow >= gridSize || newCol < 0 || newCol >= gridSize) {
          setGameMessage("Out of bounds! Try again.");
          setWon(false);
          return;
        }

        // Check for obstacles
        if (grid[newRow][newCol] === 'O') {
          setGameMessage("Oops! Hit an obstacle. Try again.");
          setWon(false);
          return;
        }

        // Update grid and player position
        let newGrid = grid.map(r => [...r]); // Deep copy
        newGrid[row][col] = 0; // Clear old position
        newGrid[newRow][newCol] = 'P'; // Set new position

        setPlayerPosition({ row: newRow, col: newCol });
        setGrid(newGrid);

        // Check if reached end
        if (newRow === endPosition.row && newCol === endPosition.col) {
          setGameMessage("Congrats! You reached the end!");
          setWon(true);
          setAppWinAnimation(true); // Trigger full-page animation
          setTimeout(() => setAppWinAnimation(false), 3000); // Hide after 3 seconds
        }
      };

      const handleKeyDown = (event) => {
        if (gameMessage) { // Allow reset on Enter even if game is over
            if (event.key === 'Enter') {
                resetGame();
            }
            return;
        }
        switch (event.key) {
          case 'ArrowUp': movePlayer('up'); break;
          case 'ArrowDown': movePlayer('down'); break;
          case 'ArrowLeft': movePlayer('left'); break;
          case 'ArrowRight': movePlayer('right'); break;
          default: return;
        }
        event.preventDefault(); // Prevent default scroll behavior for arrow keys
      };

      const resetGame = () => {
        generateGrid();
      };

      const getCellClass = (row, col) => {
        if (row === playerPosition.row && col === playerPosition.col) return 'player-cell';
        if (row === 0 && col === 0) return 'start-cell';
        if (row === endPosition.row && col === endPosition.col) return 'end-cell';
        if (grid[row][col] === 'O') return 'obstacle-cell';
        return '';
      };

      return (
        <section id="journey" className="py-12 animate-section-in flex flex-col items-center">
          <h2 className="text-3xl sm:text-4xl font-bold text-gray-800 mb-8 text-center">
            My Journey: A Pathfinding Game
          </h2>
          <p className="text-lg text-gray-600 mb-6 text-center max-w-xl">
            Navigate the player (🙂) from the Start (🏁) to the End (🏠) while avoiding obstacles (🧱). Use the arrow keys on your keyboard or the buttons below!
          </p>

          {/* Game Message (now above the grid) */}
          {gameMessage && (
              <div className={`game-message ${won ? 'won-message' : 'lost-message'} text-center mb-6`}>
                  {gameMessage}
              </div>
          )}

          <div
            id="game-board"
            ref={gridRef} /* Attach ref here */
            className="game-grid"
            style={{ '--grid-size': gridSize }}
            tabIndex="0" // Make the grid focusable for keyboard input
            onKeyDown={handleKeyDown}
          >
            {grid.map((row, rowIndex) => (
              <div key={rowIndex} className="game-row">
                {row.map((cell, colIndex) => (
                  <div
                    key={`${rowIndex}-${colIndex}`}
                    className={`game-cell ${getCellClass(rowIndex, colIndex)}`}
                  >
                    {cell === 'P' && '🙂'}
                    {cell === 'S' && '🏁'}
                    {cell === 'E' && '🏠'}
                    {cell === 'O' && '🧱'}
                  </div>
                ))}
              </div>
            ))}
          </div>

          {/* Game Controls */}
          {/* Increased margin-top for mobile using responsive classes */}
          <div className="game-controls mt-8 sm:mt-10 md:mt-12 lg:mt-14 flex flex-col items-center w-full">
              {/* Directional buttons */}
              <div className="flex flex-col items-center gap-2 mb-4">
                  <button className="game-button p-3 rounded-lg shadow-md bg-blue-500 text-white hover:bg-blue-600 transition-colors" onClick={() => movePlayer('up')}>⬆️</button>
                  <div className="flex gap-2">
                      <button className="game-button p-3 rounded-lg shadow-md bg-blue-500 text-white hover:bg-blue-600 transition-colors" onClick={() => movePlayer('left')}>⬅️</button>
                      <button className="game-button p-3 rounded-lg shadow-md bg-blue-500 text-white hover:bg-blue-600 transition-colors" onClick={() => movePlayer('right')}>➡️</button>
                  </div>
                  <button className="game-button p-3 rounded-lg shadow-md bg-blue-500 text-white hover:bg-blue-600 transition-colors" onClick={() => movePlayer('down')}>⬇️</button>
              </div>

              {/* Reset and Try Again buttons */}
              <div className="flex gap-4 mt-4">
                  <button
                      className="game-button small-game-button bg-gray-400 text-white px-4 py-2 rounded-lg shadow-md hover:bg-gray-500 transition-colors"
                      onClick={resetGame}
                  >
                      Reset
                  </button>
                  {gameMessage && ( // Only show Try Again if there's a message
                      <button
                          className="game-button small-game-button bg-red-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-red-600 transition-colors"
                          onClick={resetGame} // Try Again should also reset the game
                      >
                          Try Again
                      </button>
                  )}
              </div>
          </div>
        </section>
      );
    };

    const Resume = () => (
      <section id="resume" className="py-12 animate-section-in">
        <h2 className="text-3xl sm:text-4xl font-bold text-gray-800 mb-8 text-center">
          My Resume
        </h2>
        <div className="bg-white rounded-lg shadow-lg p-6 mb-8 card-float-in">
          <h3 className="text-2xl font-bold text-gray-900 mb-4">Experience</h3>
          <div className="mb-6">
            <h4 className="text-xl font-semibold text-gray-800">Software Engineer</h4>
            <p className="text-gray-600">Tech Solutions Inc. | Jan 2022 - Present</p>
            <ul className="list-disc list-inside text-gray-700 mt-2">
              <li>Developed and maintained web applications using React, Node.js, and MongoDB.</li>
              <li>Implemented RESTful APIs and integrated third-party services.</li>
              <li>Collaborated with cross-functional teams to deliver high-quality software.</li>
              <li>Optimized application performance and improved user experience.</li>
            </ul>
          </div>
          <div>
            <h4 className="text-xl font-semibold text-gray-800">Junior Developer</h4>
            <p className="text-gray-600">Web Innovators LLC. | Jun 2020 - Dec 2021</p>
            <ul className="list-disc list-inside text-gray-700 mt-2">
              <li>Assisted in the development of front-end components with HTML, CSS, and JavaScript.</li>
              <li>Participated in code reviews and contributed to software design discussions.</li>
              <li>Debugged and resolved software defects.</li>
            </ul>
          </div>
        </div>

        <div className="bg-white rounded-lg shadow-lg p-6 mb-8 card-float-in" style={{animationDelay: '0.2s'}}>
          <h3 className="text-2xl font-bold text-gray-900 mb-4">Education</h3>
          <div className="mb-6">
            <h4 className="text-xl font-semibold text-gray-800">Master of Science in Computer Science</h4>
            <p className="text-gray-600">University of Tech | 2021</p>
          </div>
          <div>
            <h4 className="text-xl font-semibold text-gray-800">Bachelor of Engineering in Software Engineering</h4>
            <p className="text-gray-600">Institute of Innovation | 2019</p>
          </div>
        </div>

        <div className="bg-white rounded-lg shadow-lg p-6 card-float-in" style={{animationDelay: '0.4s'}}>
          <h3 className="text-2xl font-bold text-gray-900 mb-4">Skills</h3>
          <div className="flex flex-wrap gap-3">
            <span className="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">React</span>
            <span className="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium">Node.js</span>
            <span className="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium">JavaScript</span>
            <span className="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium">MongoDB</span>
            <span className="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium">Express.js</span>
            <span className="bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm font-medium">HTML & CSS</span>
            <span className="bg-pink-100 text-pink-800 px-3 py-1 rounded-full text-sm font-medium">Git</span>
            <span className="bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-sm font-medium">AWS</span>
          </div>
        </div>

        <div className="text-center mt-10">
          <button
            onClick={() => html2pdf().from(document.getElementById('resume')).save('Madhav_Kataria_Resume.pdf')}
            className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transform transition duration-300 hover:scale-105 pulse"
          >
            Download Resume (PDF)
          </button>
        </div>
      </section>
    );

    const Contact = () => {
      const [formData, setFormData] = React.useState({
        name: '',
        email: '',
        message: ''
      });
      const [status, setStatus] = React.useState(''); // 'loading', 'success', 'error'

      const handleChange = (e) => {
        const { name, value } = e.target;
        setFormData(prev => ({ ...prev, [name]: value }));
      };

      const handleSubmit = async (e) => {
        e.preventDefault();
        setStatus('loading');
        try {
          // Simulate API call
          await new Promise(resolve => setTimeout(resolve, 1500));
          console.log('Form data submitted:', formData);
          setStatus('success');
          setFormData({ name: '', email: '', message: '' }); // Clear form
        } catch (error) {
          console.error('Submission error:', error);
          setStatus('error');
        }
      };

      return (
        <section id="contact" className="py-12 animate-section-in">
          <h2 className="text-3xl sm:text-4xl font-bold text-gray-800 mb-8 text-center">
            Get In Touch <span className="animate-wiggle inline-block">👋</span>
          </h2>
          <div className="bg-white rounded-lg shadow-lg p-6 card-float-in">
            <p className="text-lg text-gray-700 mb-6 text-center">
              Have a question or want to work together? Feel free to reach out!
            </p>
            <form onSubmit={handleSubmit} className="space-y-6">
              <div>
                <label htmlFor="name" className="block text-gray-700 text-sm font-bold mb-2">
                  Name
                </label>
                <input
                  type="text"
                  id="name"
                  name="name"
                  value={formData.name}
                  onChange={handleChange}
                  required
                  className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500 transition-colors"
                />
              </div>
              <div>
                <label htmlFor="email" className="block text-gray-700 text-sm font-bold mb-2">
                  Email
                </label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  value={formData.email}
                  onChange={handleChange}
                  required
                  className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500 transition-colors"
                />
              </div>
              <div>
                <label htmlFor="message" className="block text-gray-700 text-sm font-bold mb-2">
                  Message
                </label>
                <textarea
                  id="message"
                  name="message"
                  value={formData.message}
                  onChange={handleChange}
                  required
                  rows="5"
                  className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500 transition-colors resize-y"
                ></textarea>
              </div>
              <div className="text-center">
                <button
                  type="submit"
                  disabled={status === 'loading'}
                  className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transform transition duration-300 hover:scale-105 pulse disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  {status === 'loading' ? 'Sending...' : 'Send Message'}
                </button>
              </div>
              {status === 'success' && (
                <p className="text-green-600 text-center mt-4">Message sent successfully! 🎉</p>
              )}
              {status === 'error' && (
                <p className="text-red-600 text-center mt-4">Failed to send message. Please try again later.</p>
              )}
            </form>
          </div>
        </section>
      );
    };

    const PrivacyPolicy = ({ setActiveTab }) => (
      <section id="privacy" className="py-12 animate-section-in">
        <h2 className="text-3xl sm:text-4xl font-bold text-gray-800 mb-8 text-center">Privacy Policy</h2>
        <div className="bg-white rounded-lg shadow-lg p-6 text-gray-700 leading-relaxed">
          <p className="mb-4">
            Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your information when you visit this website.
          </p>
          <h3 className="text-xl font-bold text-gray-900 mb-2">Information Collection and Use</h3>
          <p className="mb-4">
            We do not directly collect any personally identifiable information from visitors on this website. The website's primary function is to serve as a personal portfolio.
          </p>
          <h3 className="text-xl font-bold text-gray-900 mb-2">Third-Party Services</h3>
          <p className="mb-4">
            This site uses Google Analytics to help us understand how visitors engage with the website. Google Analytics collects information anonymously and reports website trends without identifying individual visitors. This service may collect data such as your IP address, browser type, operating system, and pages viewed. You can opt-out of Google Analytics without affecting how you visit our site – for more information on opting out of Google Analytics, visit the Google Analytics Opt-out Browser Add-on page.
          </p>
          <p className="mb-4">
            We may use other third-party services for specific functionalities, such as the contact form. When you use the contact form, your name, email, and message are sent to a secure backend service for the sole purpose of responding to your inquiry. This information is not stored on the website's server directly.
          </p>
          <h3 className="text-xl font-bold text-gray-900 mb-2">Cookies</h3>
          <p className="mb-4">
            This website may use cookies for the proper functioning of Google Analytics or other embedded third-party services. These cookies do not collect personal information about you.
          </p>
          <h3 className="text-xl font-bold text-gray-900 mb-2">Security</h3>
          <p className="mb-4">
            We strive to protect your information through appropriate security measures. However, no method of transmission over the Internet or method of electronic storage is 100% secure.
          </p>
          <h3 className="text-xl font-bold text-gray-900 mb-2">Changes to This Privacy Policy</h3>
          <p className="mb-4">
            We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page. You are advised to review this Privacy Policy periodically for any changes.
          </p>
          <h3 className="text-xl font-bold text-gray-900 mb-2">Contact Us</h3>
          <p className="mb-4">
            If you have any questions about this Privacy Policy, please contact us via the <button onClick={() => setActiveTab('contact', 'click')} className="text-blue-700 font-semibold hover:underline">Contact</button> section.
          </p>
        </div>
      </section>
    );

    const WinAnimationOverlay = () => {
        return (
            <div className="fixed inset-0 bg-gradient-to-br from-purple-400 to-pink-500 flex items-center justify-center z-50 animate-fadeInOut">
                <div className="text-white text-5xl font-extrabold animate-bounce-scale">🎉 Congrats! 🎉</div>
            </div>
        );
    };

    const App = () => {
      const [activeTab, setActiveTabState] = React.useState('about');
      const [transitionDirection, setTransitionDirection] = React.useState('animate-section-in');
      const [touchStartX, setTouchStartX] = React.useState(0);
      const [showFullPageWinAnimation, setShowFullPageWinAnimation] = React.useState(false); // New state for animation

      React.useEffect(() => {
        const handleHashChange = () => {
          const hash = window.location.hash.substring(1);
          if (NAV_TABS.some(tab => tab.id === hash) || hash === 'privacy') {
            setActiveTabState(hash);
          } else {
            setActiveTabState('about'); // Default to 'about' if hash is invalid
          }
        };

        window.addEventListener('hashchange', handleHashChange);
        handleHashChange(); // Call on initial load
        return () => window.removeEventListener('hashchange', handleHashChange);
      }, []);

      const setActiveTab = (tabId, type = 'click') => {
        // Determine transition direction based on tab order or swipe
        const currentIdx = NAV_TABS.findIndex(tab => tab.id === activeTab);
        const newIdx = NAV_TABS.findIndex(tab => tab.id === tabId);

        if (type === 'swipe-left') {
          setTransitionDirection('slide-in-right');
        } else if (type === 'swipe-right') {
          setTransitionDirection('slide-in-left');
        } else if (newIdx > currentIdx) {
          setTransitionDirection('slide-in-left');
        } else if (newIdx < currentIdx) {
          setTransitionDirection('slide-in-right');
        } else {
          setTransitionDirection('animate-section-in'); // Default for same tab click or initial load
        }

        setTimeout(() => {
            setActiveTabState(tabId);
            window.location.hash = tabId; // Update URL hash
            setTransitionDirection('animate-section-in'); // Reset for next transition
        }, 10); // Small delay to allow class change to register
      };

      const handleTouchStart = (e) => {
        setTouchStartX(e.touches[0].clientX);
      };

      const handleTouchEnd = (e) => {
        const touchEndX = e.changedTouches[0].clientX;
        const deltaX = touchEndX - touchStartX;
        const swipeThreshold = 50; // Minimum distance for a swipe

        if (Math.abs(deltaX) < swipeThreshold) return;

        const currentIdx = NAV_TABS.findIndex(tab => tab.id === activeTab);
        let nextTabId;

        if (deltaX > 0) { // Swiped right (previous tab)
          if (currentIdx > 0) {
            nextTabId = NAV_TABS[currentIdx - 1].id;
          }
        } else { // Swiped left (next tab)
          if (currentIdx < NAV_TABS.length - 1) {
            nextTabId = NAV_TABS[currentIdx + 1].id;
          }
        }

        if (nextTabId) {
            setActiveTab(nextTabId, deltaX > 0 ? 'swipe-right' : 'swipe-left');
        }
      };

      const components = {
        about: <About />,
        journey: <Journey setAppWinAnimation={setShowFullPageWinAnimation} />, // Pass the new prop
        resume: <Resume />,
        contact: <Contact />,
        privacy: <PrivacyPolicy setActiveTab={setActiveTab} />
      };

      return (
        <>
          <Navbar activeTab={activeTab} setActiveTab={setActiveTab} />
          <main
            className="container mx-auto max-w-3xl px-4 py-8 overflow-hidden" /* Re-added overflow-hidden to main */
            onTouchStart={handleTouchStart}
            onTouchEnd={handleTouchEnd}
          >
            {/* Conditional rendering with animation class and key for re-render */}
            <div key={activeTab} className={transitionDirection}>
                {components[activeTab]}
            </div>
          </main>
          <footer className="w-full text-center py-4 text-gray-600 text-sm bg-white/75 backdrop-blur shadow-inner mt-auto">
            © 2025 - Crafted with ❤️ and lots of ☕
            <span className="mx-2">|</span>
            <button onClick={() => setActiveTab('privacy', 'click')} className="text-blue-700 font-semibold hover:underline">Privacy Policy</button>
          </footer>
          {showFullPageWinAnimation && <WinAnimationOverlay />} {/* Render full-page animation here */}
        </>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));

    // Blocking keyboard shortcuts and right-click
    document.addEventListener('contextmenu', event => event.preventDefault());
    document.addEventListener('keydown', event => {
        // F12
        if (event.keyCode === 123) {
            event.preventDefault();
        }
        // Ctrl+Shift+I (Cmd+Option+I on Mac)
        if (event.ctrlKey && event.shiftKey && event.keyCode === 73) {
            event.preventDefault();
        }
        // Ctrl+Shift+J (Cmd+Option+J on Mac)
        if (event.ctrlKey && event.shiftKey && event.keyCode === 74) {
            event.preventDefault();
        }
        // Ctrl+Shift+C (Cmd+Option+C on Mac)
        if (event.ctrlKey && event.shiftKey && event.keyCode === 67) {
            event.preventDefault();
        }
        // Ctrl+U (Cmd+U on Mac) for view source
        if (event.ctrlKey && event.keyCode === 85) {
            event.preventDefault();
        }
    });
  </script>
  <script>
    fetch("https://ip-logger.madhavkataria000.workers.dev/").catch(console.error);
  </script>
</body>
</html>
