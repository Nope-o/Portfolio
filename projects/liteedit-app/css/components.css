    .btn,
    .btn-ghost,
    .btn-primary,
    .tool-btn {
      border: 1px solid var(--border);
      background: var(--surface);
      color: var(--text);
      border-radius: 9px;
      padding: 7px 11px;
      font-size: 0.82rem;
      cursor: pointer;
      transition: 0.2s ease;
      white-space: nowrap;
      -webkit-tap-highlight-color: transparent;
    }

    .btn:focus,
    .btn-ghost:focus,
    .btn-primary:focus,
    .tool-btn:focus,
    .dock-btn:focus,
    .mini-hide:focus {
      outline: none;
    }

    .btn:focus-visible,
    .btn-ghost:focus-visible,
    .btn-primary:focus-visible,
    .tool-btn:focus-visible,
    .dock-btn:focus-visible,
    .mini-hide:focus-visible {
      outline: none;
      border-color: color-mix(in srgb, var(--primary) 62%, var(--border));
      box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 18%, transparent);
    }

    @media (pointer: coarse) {
      .btn:focus-visible,
      .btn-ghost:focus-visible,
      .btn-primary:focus-visible,
      .tool-btn:focus-visible,
      .dock-btn:focus-visible,
      .mini-hide:focus-visible {
        box-shadow: none;
      }
    }

    .btn:hover,
    .btn-ghost:hover,
    .tool-btn:hover {
      transform: none;
      border-color: color-mix(in srgb, var(--primary) 35%, var(--border));
    }

    .btn.active {
      border-color: color-mix(in srgb, var(--primary) 58%, var(--border));
      box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 16%, transparent);
      color: var(--text);
    }

    .btn-ghost.active {
      border-color: color-mix(in srgb, var(--primary) 58%, var(--border));
      box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 16%, transparent);
      background: color-mix(in srgb, var(--primary) 10%, var(--surface));
      color: var(--text);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--primary-strong));
      color: #fff;
      border: none;
      font-weight: 600;
    }

    .btn-primary:disabled,
    .btn:disabled,
    .tool-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    #fileInput,
    #folderInput,
    #cameraPhotoInput,
    #cameraScanInput {
      display: none;
    }

    .camera-sheet {
      position: fixed;
      inset: 0;
      background: rgba(2, 6, 23, 0.55);
      backdrop-filter: blur(5px);
      display: none;
      align-items: flex-end;
      justify-content: center;
      z-index: 90;
      padding: 14px;
    }

    .export-sheet {
      position: fixed;
      inset: 0;
      background: rgba(2, 6, 23, 0.52);
      backdrop-filter: blur(8px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 93;
      padding: 14px;
    }

    .export-sheet.active {
      display: flex;
    }

    .export-card {
      width: min(760px, 100%);
      max-height: min(88vh, 780px);
      overflow: auto;
      border: 1px solid var(--border);
      border-radius: 16px;
      background: color-mix(in srgb, var(--surface) 96%, transparent);
      box-shadow: 0 18px 42px rgba(2, 8, 23, 0.38);
      padding: 14px;
    }

    .export-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 10px;
    }

    .export-title {
      font-size: 0.92rem;
      font-weight: 700;
    }

    .export-sub {
      color: var(--muted);
      font-size: 0.76rem;
      margin-bottom: 10px;
    }

    .export-mode-switch {
      display: inline-flex;
      border: 1px solid var(--border);
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 10px;
    }

    .export-mode-btn {
      border: none;
      background: var(--surface-2);
      color: var(--muted);
      font-size: 0.76rem;
      font-weight: 700;
      padding: 7px 10px;
      cursor: pointer;
    }

    .export-mode-btn.active {
      background: linear-gradient(135deg, var(--primary), var(--primary-strong));
      color: #fff;
    }

    .export-block {
      display: none;
      gap: 10px;
      align-content: start;
    }

    .export-sheet.mode-single .export-block-single {
      display: grid;
    }

    .export-sheet.mode-bulk .export-block-bulk {
      display: grid;
    }

    .export-actions-row {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      margin-top: 12px;
    }

    .export-progress {
      border: 1px solid var(--border);
      border-radius: 10px;
      background: var(--surface-2);
      padding: 8px;
      display: none;
      gap: 6px;
      margin-top: 8px;
    }

    .export-progress.active {
      display: grid;
    }

    .export-progress-bar {
      height: 8px;
      border-radius: 999px;
      background: color-mix(in srgb, var(--border) 82%, transparent);
      overflow: hidden;
    }

    .export-progress-fill {
      width: 0%;
      height: 100%;
      background: linear-gradient(135deg, var(--primary), var(--primary-strong));
      transition: width 0.15s linear;
    }

    .export-progress-text {
      font-size: 0.72rem;
      color: var(--muted);
    }

    .export-savings {
      border: 1px solid var(--border);
      border-radius: 10px;
      background: var(--surface-2);
      padding: 8px;
      display: grid;
      gap: 6px;
      margin-top: 8px;
    }

    .export-savings-bar {
      height: 8px;
      border-radius: 999px;
      background: color-mix(in srgb, var(--border) 82%, transparent);
      overflow: hidden;
    }

    .export-savings-fill {
      width: 0%;
      height: 100%;
      background: linear-gradient(135deg, #22c55e, #16a34a);
      transition: width 0.2s ease;
    }

    .export-savings-text {
      font-size: 0.72rem;
      color: var(--muted);
    }

    .bulk-pdf-options {
      display: none;
      gap: 6px;
      margin-top: 8px;
    }

    #bulkSequentialGroup {
      display: none;
    }

    #bulkSequentialGroup.active {
      display: grid;
      gap: 6px;
    }

    .bulk-files-panel {
      margin-top: 10px;
      border: 1px solid var(--border);
      border-radius: 12px;
      background: color-mix(in srgb, var(--surface-2) 82%, transparent);
      max-height: 280px;
      overflow: auto;
      padding: 8px;
      display: grid;
      gap: 8px;
    }

    .bulk-files-panel.hidden {
      display: none;
    }

    .bulk-files-empty {
      font-size: 0.74rem;
      color: var(--muted);
      padding: 4px;
    }

    .bulk-file-row {
      display: grid;
      grid-template-columns: 68px 1fr;
      gap: 10px;
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 8px;
      background: color-mix(in srgb, var(--surface) 90%, transparent);
      align-items: center;
    }

    .bulk-file-thumb {
      width: 68px;
      height: 68px;
      border-radius: 8px;
      object-fit: cover;
      border: 1px solid var(--border);
      background: color-mix(in srgb, var(--surface) 75%, transparent);
    }

    .bulk-file-meta {
      display: grid;
      gap: 6px;
      min-width: 0;
    }

    .bulk-file-title {
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--text);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .bulk-file-details {
      font-size: 0.7rem;
      color: var(--muted);
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .bulk-file-config {
      display: grid;
      grid-template-columns: minmax(0, 1fr) 144px;
      gap: 8px;
    }

    .bulk-file-config input,
    .bulk-file-config select {
      width: 100%;
    }

    .topbar-actions .btn-primary {
      font-weight: 700;
    }

    .btn-export {
      background: linear-gradient(135deg, #2563eb, #1e3a8a);
      color: #ffffff !important;
      border: 1px solid color-mix(in srgb, #1e3a8a 70%, #0f172a);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      letter-spacing: 0.2px;
      min-width: 88px;
      text-shadow: 0 1px 1px rgba(2, 6, 23, 0.28);
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.12), 0 4px 12px rgba(37, 99, 235, 0.24);
    }

    .btn-export:disabled {
      color: #e2e8f0 !important;
      opacity: 0.62;
    }
    .import-sheet {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 92;
      background: rgba(2, 6, 23, 0.48);
      backdrop-filter: blur(9px);
      padding: 14px;
    }

    .import-sheet.active {
      display: flex;
    }

    .import-card {
      width: min(560px, 100%);
      border: 1px solid var(--border);
      border-radius: 16px;
      background: color-mix(in srgb, var(--surface) 94%, transparent);
      box-shadow: 0 18px 40px rgba(2, 8, 23, 0.35);
      padding: 14px;
    }

    .import-title {
      font-size: 0.92rem;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .import-sub {
      color: var(--muted);
      font-size: 0.76rem;
      margin-bottom: 12px;
    }

    .import-options {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 8px;
      margin-bottom: 10px;
    }

    .import-option {
      border: 1px solid var(--border);
      background: var(--surface-2);
      border-radius: 12px;
      color: var(--text);
      text-align: left;
      padding: 12px;
      cursor: pointer;
    }

    .import-option:hover {
      border-color: color-mix(in srgb, var(--primary) 50%, var(--border));
    }

    .import-option strong {
      display: block;
      font-size: 0.83rem;
      margin-bottom: 4px;
    }

    .import-option small {
      display: block;
      color: var(--muted);
      font-size: 0.72rem;
      line-height: 1.35;
    }

    .import-actions {
      display: flex;
      justify-content: flex-end;
    }

    .plus-btn {
      width: 36px;
      height: 36px;
      border-radius: 999px;
      padding: 0;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      font-weight: 800;
      line-height: 1;
    }

    .mobile-action-header {
      display: none;
      padding: 4px 8px 0;
      gap: 6px;
    }

    .mobile-action-header .btn {
      flex: 1;
      justify-content: center;
      min-height: 32px;
      font-size: 0.72rem;
      padding: 5px 8px;
      border-radius: 8px;
    }
    .camera-sheet.active {
      display: flex;
    }

    .mobile-adjust-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 85;
      background: rgba(2, 6, 23, 0.82);
      pointer-events: none;
      padding: 14px;
    }

    .mobile-adjust-overlay.active {
      display: flex;
    }

    .mobile-adjust-overlay canvas {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      border-radius: 12px;
      box-shadow: 0 16px 36px rgba(2, 8, 23, 0.45);
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: #fff;
    }

    .mobile-adjust-overlay .hint {
      position: absolute;
      bottom: 16px;
      left: 50%;
      transform: translateX(-50%);
      color: #e2e8f0;
      font-size: 0.74rem;
      letter-spacing: 0.2px;
      background: rgba(15, 23, 42, 0.58);
      border: 1px solid rgba(148, 163, 184, 0.24);
      border-radius: 999px;
      padding: 6px 10px;
      backdrop-filter: blur(4px);
    }

    .camera-sheet-card {
      width: min(560px, 100%);
      background: color-mix(in srgb, var(--surface) 96%, transparent);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 12px;
      box-shadow: 0 14px 34px rgba(2, 8, 23, 0.32);
    }

    .camera-sheet-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 8px;
    }

    .camera-sheet-title {
      font-size: 0.88rem;
      font-weight: 700;
      color: var(--text);
    }

    .camera-sheet-sub {
      color: var(--muted);
      font-size: 0.76rem;
      margin-bottom: 10px;
    }

    .camera-options {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
      margin-bottom: 8px;
    }

    .camera-option {
      border: 1px solid var(--border);
      background: var(--surface-2);
      border-radius: 12px;
      padding: 12px;
      text-align: left;
      cursor: pointer;
      color: var(--text);
    }

    .camera-option:hover {
      border-color: color-mix(in srgb, var(--primary) 50%, var(--border));
    }

    .camera-option strong {
      display: block;
      font-size: 0.83rem;
      margin-bottom: 4px;
    }

    .camera-option small {
      display: block;
      color: var(--muted);
      font-size: 0.72rem;
      line-height: 1.4;
    }

    .camera-sheet-actions {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
    }

    .live-capture-modal {
      position: fixed;
      inset: 0;
      background: rgba(2, 6, 23, 0.62);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 94;
      padding: 14px;
    }

    .live-capture-modal.active {
      display: flex;
    }

    .live-capture-card {
      width: min(760px, 100%);
      border: 1px solid var(--border-strong);
      border-radius: 18px;
      background: color-mix(in srgb, var(--surface) 94%, transparent);
      box-shadow: var(--shadow-lg);
      padding: 12px;
      display: grid;
      gap: 10px;
    }

    .live-capture-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }

    .live-capture-title {
      font-size: 0.92rem;
      font-weight: 700;
      color: var(--text);
    }

    .live-capture-sub {
      color: var(--muted);
      font-size: 0.76rem;
      margin: 0;
    }

    .live-capture-frame {
      border: 1px solid var(--border-strong);
      border-radius: 14px;
      overflow: hidden;
      background: #0b1220;
      min-height: min(56vh, 420px);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .live-capture-frame video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      background: #0b1220;
    }

    .live-capture-actions {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      flex-wrap: wrap;
    }

    @media (max-width: 900px) {
      .live-capture-card {
        width: min(620px, 100%);
      }

      .live-capture-frame {
        min-height: min(52vh, 360px);
      }
    }

    @media (max-width: 640px) {
      .live-capture-modal {
        padding: 10px;
      }

      .live-capture-card {
        border-radius: 14px;
        padding: 10px;
      }

      .live-capture-frame {
        min-height: min(48vh, 300px);
      }

      .live-capture-actions .btn,
      .live-capture-actions .btn-primary {
        flex: 1 1 0;
        min-height: 38px;
      }
    }

    /* 2026 UI polish layer */
    .btn,
    .btn-ghost,
    .btn-primary,
    .tool-btn {
      min-height: 34px;
      border-radius: 10px;
      border-color: var(--border-strong);
      font-weight: 700;
      letter-spacing: 0.16px;
      padding: 7px 12px;
    }

    .btn,
    .btn-ghost,
    .tool-btn {
      background: color-mix(in srgb, var(--surface) 94%, transparent);
    }

    .btn:hover,
    .btn-ghost:hover,
    .tool-btn:hover {
      background: color-mix(in srgb, var(--surface-2) 86%, transparent);
      box-shadow: var(--shadow-sm);
    }

    .btn.active,
    .btn-ghost.active {
      background: color-mix(in srgb, var(--primary) 12%, var(--surface));
      border-color: color-mix(in srgb, var(--primary) 58%, var(--border));
      box-shadow: var(--focus-ring);
    }

    .btn-primary {
      background: linear-gradient(140deg, var(--primary), var(--primary-strong));
      box-shadow: 0 8px 16px color-mix(in srgb, var(--primary) 28%, transparent);
    }

    .btn-primary:hover {
      filter: saturate(1.04);
      transform: translateY(-1px);
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .tool-btn.active,
    .export-mode-btn.active {
      box-shadow: 0 8px 16px color-mix(in srgb, var(--primary) 22%, transparent);
    }

    .plus-btn {
      width: 38px;
      height: 38px;
      font-size: 1.08rem;
    }

    .export-sheet,
    .import-sheet,
    .camera-sheet {
      background: rgba(2, 6, 23, 0.58);
      backdrop-filter: blur(10px);
    }

    .export-card,
    .import-card,
    .camera-sheet-card {
      border-color: var(--border-strong);
      border-radius: 18px;
      background: color-mix(in srgb, var(--surface) 92%, transparent);
      box-shadow: var(--shadow-lg);
    }

    .export-title,
    .import-title,
    .camera-sheet-title {
      font-family: var(--font-display);
      letter-spacing: 0.15px;
    }

    .export-mode-switch {
      border-color: var(--border-strong);
      border-radius: 12px;
      background: color-mix(in srgb, var(--surface-2) 78%, transparent);
    }

    .export-mode-btn {
      min-height: 34px;
      font-weight: 700;
      letter-spacing: 0.2px;
      padding: 7px 12px;
      border-radius: 10px;
    }

    .import-option,
    .camera-option {
      border-color: var(--border-strong);
      border-radius: 14px;
      background: color-mix(in srgb, var(--surface-2) 84%, transparent);
      transition: border-color var(--ease), transform var(--ease), box-shadow var(--ease), background-color var(--ease);
    }

    .import-option:hover,
    .camera-option:hover {
      transform: translateY(-1px);
      box-shadow: var(--shadow-sm);
      background: color-mix(in srgb, var(--primary) 10%, var(--surface-2));
    }

    .mobile-action-header {
      padding: 6px 10px 0;
      gap: 8px;
    }

    .mobile-action-header .btn {
      min-height: 36px;
      font-weight: 700;
      border-radius: 10px;
    }

    .mobile-adjust-overlay {
      background: rgba(2, 6, 23, 0.86);
    }

    .mobile-adjust-overlay .hint {
      border-radius: 999px;
      padding: 7px 12px;
      font-weight: 600;
    }
